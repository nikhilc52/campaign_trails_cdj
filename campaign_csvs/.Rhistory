theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB"))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB"),
legend.margin = margin(t=-10))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB"),
legend.margin = margin(t=-100))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB"),
legend.margin = margin(t=-10))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB"),
legend.margin = margin(t=10))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB"),
plot.border=element_rect(fill="#FFF8EB")
legend.margin = margin(t=10))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB"),
plot.border=element_rect(fill="#FFF8EB"),
legend.margin = margin(t=10))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB")
legend.margin = margin(t=10))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB"),
legend.margin = margin(t=10))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB", color=NA),
legend.margin = margin(t=10))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB", color="#FFF8EB"),
legend.margin = margin(t=10))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB", color="#FFF8EB", size=10))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB", color="#FFF8EB", linewidth = =10))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB", color="#FFF8EB", linewidth = 10))
plot.background = element_rect(fill = "#FFF8EB", color="#FFF8EB""))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB", color="#FFF8EB"))
ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB", color="#FFF8EB"),
plot.margin = margin(10, 10, 10, 10))
getwd()
plot <- ggplot(visit_state_plot)+
geom_sf(data=usa, color="#fff8eb", linewidth=1)+
geom_sf(aes(fill=count),color="#444444", linewidth=1)+
scale_fill_gradient2(mid="#fff8eb", high = "#90ee90",
guide = guide_colorbar(barwidth = 10, barheight = 0.5,frame.colour = "black"))+
theme_minimal()+
theme_void()+
labs(title="All Campaign Visits From 2004 Onwards<br>",
fill="Visits")+
theme(plot.title = ggtext::element_markdown(size = 22, hjust =0.5, face = "bold", color="#444444"),
plot.subtitle = ggtext::element_markdown(size = 16, hjust =0.5, face = "bold", color="#444444"),
plot.caption = ggtext::element_markdown(size = 8, hjust =0.5, color="#444444"),
legend.position = "bottom",
legend.title = element_text(size = 12),
legend.text = element_text(size = 12),
plot.background = element_rect(fill = "#FFF8EB", color="#FFF8EB"),
plot.margin = margin(10, 10, 10, 10))
ggsave("heatmap.svg", plot = plot, width = 10, height = 8, device = "svg")
setwd("~/GitHub/campaign_trails_cdj/campaign_csvs")
visits <- read_csv('all_visits.csv')
working <- visits |>
group_by(candidate_party, location) |>
summarise(
count=n(),
state=first(state)
) |>
filter(candidate_party=='Republican' & state=="Florida")
View(working)
working <- visits |>
group_by(candidate_party, location) |>
summarise(
count=n(),
state=first(state)
) |>
filter(candidate_party=='Republican')
View(working)
sum(working$count)
working <- visits |>
group_by(candidate_party, location) |>
summarise(
count=n(),
state=first(state)
) |>
filter(candidate_party=='Democrat')
sum(working$count)
working <- visits |>
group_by(state) |>
summarise(
count=n(),
state=first(state)
)
View(working)
sum(working$count)
#import libraries
library(tidyverse)
library(dplyr)
setwd("~/GitHub/campaign_trails_cdj/campaign_csvs")
all_visits_pop <- read_csv('visit_state_population.csv')
setwd("~/GitHub/campaign_trails_cdj/results_csvs")
all_results <- read_csv('all_results.csv') |>
select(state, winner_2020, winner_2016, winner_2012, winner_2008, winner_2004)
swing_states_2004 <- list('Pennsylvania', 'New Hampshire',
'Wisconsin','Iowa','New Mexico','Ohio','Nevada',
'Florida','Michigan','Minnesota','Oregon')
swing_states_2008 <- list('North Carolina','Colorado','Indiana','Missouri',
'Minnesota','Florida','Ohio','Virginia')
swing_states_2012 <- list('Pennsylvania', 'New Hampshire','Iowa',
'Ohio','Nevada','Colorado',
'Florida','Wisconsin','Virginia')
swing_states_2016 <- list('Pennsylvania', 'New Hampshire','North Carolina',
'Michigan','Nevada','Iowa',
'Florida','Wisconsin','Colorado','Ohio','Virginia')
swing_states_2020 <- list('Minnesota','New Hampshire',
'Michigan','Nevada','Iowa',
'Florida','Colorado','Arizona','Georgia')
swing_states_2024 <- list('Pennsylvania',
'Michigan','Nevada',
'Florida','North Carolina','Arizona','Georgia')
data <- all_visits_pop |>
group_by(state, candidate, year) |>
mutate(candidate_year = paste0(candidate,'_',year)) |>
pivot_wider(id_cols=state, names_from = candidate_year, values_from = people_visited)
data[is.na(data)] <- 0
visits_results <- inner_join(all_results, data, join_by(state == state))
matrix <- function(winner_year, candidate1_year, candidate2_year, swing_states_year){
temp <- visits_results |>
select(state, winner_year, candidate1_year, candidate2_year) |>
rename(c2v = candidate2_year) |>
rename(c1v = candidate1_year) |>
rename(winner = winner_year) |>
filter(state %in% swing_states_year) |>
filter(c1v > 0 & c2v > 0) #|>
#filter(c1v > c2v + 500000 | c2v > c1v+500000)
# |>
#filter(c2v > -1 | c1v > -1) #subject to change
c1 = tools::toTitleCase(sub("(.*)_(.*)", "\\1", candidate1_year))
c2 = tools::toTitleCase(sub("(.*)_(.*)", "\\1", candidate2_year))
temp <- temp |>
mutate(more_won = ifelse((c2v > c1v & winner == c2) |
(c2v < c1v & winner == c1),1,0)) |>
mutate(less_won = ifelse((c2v > c1v & winner == c1) |
(c2v < c1v & winner == c2),1,0)) |>
mutate(tie_c1 = ifelse((c1v == c2v & winner == c1), 1,0)) |>
mutate(tie_c2 = ifelse((c1v == c2v & winner == c2), 1,0))
print(paste0('Campaigned more and won (n): ',sum(temp$more_won)))
print(paste0('Campaigned less and won (n): ',sum(temp$less_won)))
print(paste0(c1, ' won (n) even: ',sum(temp$tie_c1)))
print(paste0(c2, ' won (n) even: ',sum(temp$tie_c2)))
print(paste0('Total states visited: ', nrow(temp)))
}
matrix('winner_2004', 'Bush_2004', 'Kerry_2004',swing_states_2004)
matrix('winner_2008', 'Obama_2008', 'Mccain_2008', swing_states_2008)
matrix('winner_2012', 'Obama_2012', 'Romney_2012', swing_states_2012)
matrix('winner_2016', 'Clinton_2016', 'Trump_2016', swing_states_2016)
matrix('winner_2020', 'Biden_2020', 'Trump_2020', swing_states_2020)
matrix <- function(winner_year, candidate1_year, candidate2_year, swing_states_year){
temp <- visits_results |>
select(state, winner_year, candidate1_year, candidate2_year) |>
rename(c2v = candidate2_year) |>
rename(c1v = candidate1_year) |>
rename(winner = winner_year) |>
#filter(state %in% swing_states_year) |>
filter(c1v > 0 & c2v > 0) #|>
#filter(c1v > c2v + 500000 | c2v > c1v+500000)
# |>
#filter(c2v > -1 | c1v > -1) #subject to change
c1 = tools::toTitleCase(sub("(.*)_(.*)", "\\1", candidate1_year))
c2 = tools::toTitleCase(sub("(.*)_(.*)", "\\1", candidate2_year))
temp <- temp |>
mutate(more_won = ifelse((c2v > c1v & winner == c2) |
(c2v < c1v & winner == c1),1,0)) |>
mutate(less_won = ifelse((c2v > c1v & winner == c1) |
(c2v < c1v & winner == c2),1,0)) |>
mutate(tie_c1 = ifelse((c1v == c2v & winner == c1), 1,0)) |>
mutate(tie_c2 = ifelse((c1v == c2v & winner == c2), 1,0))
print(paste0('Campaigned more and won (n): ',sum(temp$more_won)))
print(paste0('Campaigned less and won (n): ',sum(temp$less_won)))
print(paste0(c1, ' won (n) even: ',sum(temp$tie_c1)))
print(paste0(c2, ' won (n) even: ',sum(temp$tie_c2)))
print(paste0('Total states visited: ', nrow(temp)))
}
matrix('winner_2008', 'Obama_2008', 'Mccain_2008', swing_states_2008)
visits <- read_csv('visit_state_population.csv')
setwd("~/GitHub/campaign_trails_cdj/campaign_csvs")
visits <- read_csv('all_visits.csv')
pop <- read_csv('visit_state_population.csv')
working <- pop |>
filter(year == 2008)
View(working)
working <- pop |>
filter(year == 2008) |>
filter(state %in% swing_states_2008)
working <- pop |>
filter(year == 2008) |>
filter(state %in% swing_states_2008)
matrix <- function(winner_year, candidate1_year, candidate2_year, swing_states_year){
temp <- visits_results |>
select(state, winner_year, candidate1_year, candidate2_year) |>
rename(c2v = candidate2_year) |>
rename(c1v = candidate1_year) |>
rename(winner = winner_year) |>
#filter(state %in% swing_states_year) |>
filter(c1v > 0 & c2v > 0) #|>
#filter(c1v > c2v + 500000 | c2v > c1v+500000)
# |>
#filter(c2v > -1 | c1v > -1) #subject to change
c1 = tools::toTitleCase(sub("(.*)_(.*)", "\\1", candidate1_year))
c2 = tools::toTitleCase(sub("(.*)_(.*)", "\\1", candidate2_year))
temp <- temp |>
mutate(more_won = ifelse((c2v > c1v & winner == c2) |
(c2v < c1v & winner == c1),1,0)) |>
mutate(less_won = ifelse((c2v > c1v & winner == c1) |
(c2v < c1v & winner == c2),1,0)) |>
mutate(tie_c1 = ifelse((c1v == c2v & winner == c1), 1,0)) |>
mutate(tie_c2 = ifelse((c1v == c2v & winner == c2), 1,0))
print(paste0('Campaigned more and won (n): ',sum(temp$more_won)))
print(paste0('Campaigned less and won (n): ',sum(temp$less_won)))
print(paste0(c1, ' won (n) even: ',sum(temp$tie_c1)))
print(paste0(c2, ' won (n) even: ',sum(temp$tie_c2)))
print(paste0('Total states visited: ', nrow(temp)))
}
matrix('winner_2012', 'Obama_2012', 'Romney_2012', swing_states_2012)
working <- pop |>
filter(year == 2016) |>
filter(state %in% swing_states_2012)
working <- pop |>
filter(year == 2016) |>
filter(state %in% swing_states_2016)
View(working)
working <- visits |>
group_by(state, candidate, year) |>
summarise(
count=n()
) |>
filter(year =2024)
working <- visits |>
group_by(state, candidate, year) |>
summarise(
count=n()
) |>
filter(year==2024)
View(working)
working <- visits |>
group_by(state, candidate, year) |>
summarise(
count=n()
) |>
filter(year==2024 & candidate='Harris')
working <- visits |>
group_by(state, candidate, year) |>
summarise(
count=n()
) |>
filter(year==2024 & candidate=='Harris')
View(working)
sum(working$count)
working <- visits |>
group_by(state, candidate, year) |>
summarise(
count=n()
) |>
filter(year==2024 & candidate=='Trump')
sum(working$count)
working <- visits |>
group_by(location, candidate, year) |>
summarise(
count=n()
) |>
filter(year==2024 & candidate=='Harris')
working <- visits |>
group_by(location, candidate, year) |>
summarise(
count=n(),
state=first(state)
) |>
filter(year==2024 & candidate=='Harris')
working <- visits |>
group_by(location, candidate, year) |>
summarise(
count=n(),
state=first(state)
) |>
filter(year==2024 & candidate=='Trump')
View(all_visits_pop)
View(pop)
